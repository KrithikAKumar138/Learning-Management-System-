<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Course Quiz</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-gradient-to-br from-indigo-50 to-slate-100
             min-h-screen flex items-center justify-center font-sans p-6">

<div class="w-full max-w-4xl bg-white p-8 rounded-2xl shadow-2xl animate-fadeIn">

    <div th:if="${score == null}">
        <h2 class="text-2xl font-semibold text-center mb-8">
            ğŸ“ Course Quiz
        </h2>

        <form action="/student/quiz/submit" method="post">

            <input type="hidden" name="courseId" th:value="${courseId}" />

            <div th:each="q : ${questions}"
                 class="mb-6 p-5 border border-gray-200 rounded-xl
                        bg-slate-50 hover:shadow-md transition">

                <p class="font-semibold mb-4 text-gray-800"
                   th:text="${q.question}"></p>


                <label class="flex items-center gap-3 p-3 mb-2 border rounded-lg
                              cursor-pointer hover:bg-indigo-50 transition">
                    <input type="radio"
                           th:name="'q_' + ${q.id}"
                           value="A"
                           required
                           class="accent-indigo-600">
                    <span th:text="${q.optionA}"></span>
                </label>

                <label class="flex items-center gap-3 p-3 mb-2 border rounded-lg
                              cursor-pointer hover:bg-indigo-50 transition">
                    <input type="radio"
                           th:name="'q_' + ${q.id}"
                           value="B"
                           class="accent-indigo-600">
                    <span th:text="${q.optionB}"></span>
                </label>


                <label class="flex items-center gap-3 p-3 mb-2 border rounded-lg
                              cursor-pointer hover:bg-indigo-50 transition">
                    <input type="radio"
                           th:name="'q_' + ${q.id}"
                           value="C"
                           class="accent-indigo-600">
                    <span th:text="${q.optionC}"></span>
                </label>

                <label class="flex items-center gap-3 p-3 border rounded-lg
                              cursor-pointer hover:bg-indigo-50 transition">
                    <input type="radio"
                           th:name="'q_' + ${q.id}"
                           value="D"
                           class="accent-indigo-600">
                    <span th:text="${q.optionD}"></span>
                </label>

            </div>

            <button type="submit"
                    class="block mx-auto mt-10 px-10 py-3
                           bg-indigo-600 hover:bg-indigo-700 transition
                           text-white font-semibold rounded-full shadow-lg">
                Submit Quiz
            </button>
        </form>
    </div>

    <div th:if="${score != null}" class="text-center">

        <h2 class="text-2xl font-semibold mb-6">
            ğŸ¯ Quiz Result
        </h2>

        <div class="text-5xl font-bold text-indigo-600 mb-4">
            <span th:text="${score}"></span> / 100
        </div>

        <div class="mb-8">
            <span th:if="${passed}"
                  class="inline-block px-6 py-3 rounded-full
                         bg-green-100 text-green-700 font-semibold text-lg">
                âœ… Passed
            </span>

            <span th:unless="${passed}"
                  class="inline-block px-6 py-3 rounded-full
                         bg-red-100 text-red-700 font-semibold text-lg">
                âŒ Failed (Minimum 60 required)
            </span>
        </div>

        <a href="/student/courses"
           class="inline-block px-8 py-3
                  bg-indigo-600 hover:bg-indigo-700 transition
                  text-white rounded-full font-medium shadow-md">
            Back to My Courses
        </a>
    </div>

</div>

<style>
    @keyframes fadeIn {
        from { opacity: 0; transform: translateY(16px); }
        to   { opacity: 1; transform: translateY(0); }
    }
    .animate-fadeIn {
        animation: fadeIn 0.6s ease;
    }
</style>

</body>
</html>
